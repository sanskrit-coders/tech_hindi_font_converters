<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<body bgcolor="yellow"> <!--"00FF00" for green -->
<title>DV-TTVedicNormal ==> यूनिकोड परिवर्तित्र</title>
<B><Font color = darkblue><CENTER> DV-TTVedicNormal ==> यूनिकोड परिवर्तित्र (24-02-2014) </font></B><br>

<script type="text/javascript">

// Designed to convert yv-tb.pdf (yajurveda taittireeya brahaman).
// Text to be copied with FOXIT READER.
// Developed from taking replacement table from /media/snsingh/E:/Hindisoft/Converters etc/DV-TTSurekhEN+to+Unicode+Converter_07.htm
// and /media/snsingh/E:/Hindisoft/Converters etc/Maharshi Veda to Unicode Converter_06.html


/*
// Copied from Marcis converters at Github

"α ω" ,	" ",
"α[]ω" ,	"",
"α.ω" ,	"ड्भ",
"α0ω" ,	"व्न्",
"α1ω" ,	"व्ल",
"α2ω" ,	"श्च्",
"α3ω" ,	"श्न्",
"α4ω" ,	"श्ल",
"α5ω" ,	"स्त्र्",
"α6ω" ,	"स्न्",
"α7ω" ,	"ष्ट",
"α8ω" ,	"ष्ट्व",
"α9ω" ,	"ष्ठ",
"α:ω" ,	"ष्ठ्व",
"α;ω" ,	"ह्ण",
"α<ω" ,	"ह्न",
"α=ω" ,	"ह्व",
"α>ω" ,	"ह्ल",
"α?ω" ,	"ह्ळ",
"α@ω" ,	"ऌ",
"αAω" ,	"ॡ",
"αBω" ,	"क्क",
"αCω" ,	"क्न",
"αDω" ,	"क्ल",
"αEω" ,	"क्व",
"αFω" ,	"ग्न",
"αGω" ,	"घ्न",
"αHω" ,	"ङ्क",
"αIω" ,	"ङ्क्त",
"αJω" ,	"ङ्ख",
"αKω" ,	"ङ्ग",
"αLω" ,	"ङ्घ",
"αMω" ,	"ङ्ङ",
"αNω" ,	"ङ्न",
"αOω" ,	"ङ्म",
"αPω" ,	"च्च्",
"αQω" ,	"च्न्",
"αRω" ,	"छ्न",
"αSω" ,	"छ्म",
"αTω" ,	"छ्ल",
"αUω" ,	"छ्व",
"αVω" ,	"ज्ज्",
"αWω" ,	"ज्न्",
"αXω" ,	"ञ्च्",
"αYω" ,	"ञ्ज्",
"αZω" ,	"ट्क",
"α[ω" ,	"ट्व",
"α\ω" ,	"ड्ग",
"α]ω" ,	"ड्द",
"α^ω" ,	"ड्ब",
"α_ω" ,	"ड्व",
"α`ω" ,	"ढ्ढ",
"αaω" ,	"ढ्ब",
"αbω" ,	"ढ्व",
"αcω" ,	"त्न्",
"αdω" ,	"त्र्व",
"αeω" ,	"थ्न",
"αfω" ,	"दृ",
"αgω" ,	"द्द्व",
"αhω" ,	"द्ग",
"αiω" ,	"द्ग्र",
"αjω" ,	"द्घ",
"αkω" ,	"द्ध्व",
"αlω" ,	"द्न",
"αmω" ,	"द्ब",
"αnω" ,	"द्ब्र",
"αoω" ,	"द्भ",
"αpω" ,	"द्र्व",
"αqω" ,	"द्व्र",
"αrω" ,	"द्भ्य",
"αsω" ,	"द्व्य",
"αtω" ,	"ध्न्",
"αuω" ,	"प्त्",
"αvω" ,	"प्ट",
"αwω" ,	"प्ठ",
"αxω" ,	"प्न",
"αyω" ,	"प्ल",
"αzω" ,	"ब्न्",
"α{ω" ,	"भ्न्",
"α|ω" ,	"म्न्",
"α}ω" ,	"ल",
"α~ω" ,	"ल्ल",
"αω" ,	"द्द्व",
"α ω" ,	"ʊ",
"α¡ω" ,	"ʊ̖̇",
"α¢ω" ,	"ʊ̖̐",
"α£ω" ,	"ѻ̇",
"α¤ω" ,	"ʊ1",
"α¥ω" ,	"ʊ̇",
"α¦ω" ,	"ʊ2",
"α§ω" ,	"ʊ3",
"α¨ω" ,	"ʊ4",
"α©ω" ,	"ʊ5",
"αªω" ,	"ʊ6",
"α«ω" ,	"",
"α¬ω" ,	"",
"α­ω" ,	"∻1",
"α®ω" ,	"∻2",
"α¯ω" ,	"∻3",
"α°ω" ,	"∻4",
"α±ω" ,	"∻5",
"α²ω" ,	"∻6",
"α³ω" ,	"∻7",
"α´ω" ,	"∻8",
"αµω" ,	"∻9",
"α¶ω" ,	"÷",
"α·ω" ,	"≍",
"α[¸¹º»]ω" ,	"\x0324",
"α[¼½¾¿]ω" ,	"॒",
"α[ÀÁÂÃ]ω" ,	"\x032E",
"α[ÄÅÆÇ]ω" ,	"\x0329",
"αÈω" ,	"॑",
"αÉω" ,	"",
"αÊω" ,	"॑",
"αËω" ,	"",
"α[ÌÍÎÏ]ω" ,	"\x0323",
"α[ÐÑ]ω" ,	"\x0306",
"α[ÒÓÔÕ]ω" ,	"\x033A",
"α[Ö×ØÙ]ω" ,	"\x032B",
"αÚω" ,	"ʃ",
"αÛω" ,	"",
"αÜω" ,	"१",
"αÝω" ,	"३",
"αÞω" ,	"\x0305",
"αßω" ,	"˄",
"αàω" ,	"ʊ7",
"αáω" ,	"०",
"α∙ω" ,	"≍",
"α+ω" ,	"ρ",
"α,ω" ,	"ंρ",
"αω" ,	"ι",
"αω" ,	"ιं",
"α-ω" ,	"ँ",
"α/ω" ,	"ं",
"αω" ,	"्रु",
"αω" ,	"ु",
"αω" ,	"ू",
"αω" ,	"्रू",
"αâω" ,	"ृ",
"αãω" ,	"ॄ",
"αäω" ,	"ॢ",
"αåω" ,	"ॣ",
"αæω" ,	"ा",
"αçω" ,	"ιँ",
"αèω" ,	"र्ιँ",
"αéω" ,	"ीँ",
"αêω" ,	"ीँρ",
"αëω" ,	"ेँ",
"αìω" ,	"ैँ",
"αíω" ,	"ेँρ",
"αîω" ,	"ैँρ",
"αïω" ,	"॑ρ",
"αðω" ,	"ρ",
"αñω" ,	"ं॑",
"αòω" ,	"ं",
"αóω" ,	"॑",
"αôω" ,	"",
"αõω" ,	"े",
"αöω" ,	"ें",
"α÷ω" ,	"ेρ",
"αøω" ,	"ेंρ",
"αùω" ,	"ै",
"αúω" ,	"ैं",
"αûω" ,	"ैρ",
"αüω" ,	"ैंρ",
"αýω" ,	"ॅ",
"αþω" ,	"",
"αŒω" ,	"ु",
"αŠω" ,	"ीρ",
"αƒω" ,	"र्ιं",
"αˆω" ,	"ी",
"α‘ω" ,	"ू",
"α’ω" ,	"ृ",
"α‚ω" ,	"र्ι",
"α“ω" ,	"ॄ",
"α„ω" ,	"ι",
"α†ω" ,	"र्ι",
"α‡ω" ,	"र्ιं",
"α…ω" ,	"ιं",
"α‰ω" ,	"ीं",
"α‹ω" ,	"ींρ",
"[ðñòóôõö÷øùúûüýþ]" ,	"",
"$" ,	"ॐ",
"%" ,	"ऽ",
"*" ,	"।",
"0" ,	"०",
"1" ,	"१",
"2" ,	"२",
"3" ,	"३",
"4" ,	"४",
"5" ,	"५",
"6" ,	"६",
"7" ,	"७",
"8" ,	"८",
"9" ,	"९",
"+" ,	"अ",
"<" ,	"इ",
"=" ,	"उ",
">" ,	"ऊ",
"@" ,	"ऋ",
"A" ,	"ॠ",
"B" ,	"ए",
"C" ,	"क्",
"D" ,	"क़्",
"E" ,	"क",
"F" ,	"क़",
"G" ,	"क्र",
"H" ,	"क्त",
"I" ,	"क्ष्",
"J" ,	"ख्",
"K" ,	"ख़्",
"L" ,	"ख्र्",
"M" ,	"ग्",
"N" ,	"ग़्",
"O" ,	"ग्र्",
"P" ,	"घ्",
"Q" ,	"घ्र्",
"R" ,	"ङ",
"S" ,	"च्",
"T" ,	"च्र्",
"U" ,	"छ",
"V" ,	"ज्",
"W" ,	"ज़्",
"X" ,	"ज्र्",
"Y" ,	"ज्ञ्",
"Z" ,	"झ्",
"[" ,	"झ्र्",
"\" ,	"ञ्",
"]" ,	"ट",
"^" ,	"ट्ट",
"_" ,	"ट्ठ",
"`" ,	"ठ",
"a" ,	"ठ्ठ",
"b" ,	"ड",
"c" ,	"ड़",
"d" ,	"ड्ड",
"e" ,	"ड्ढ",
"f" ,	"ढ",
"g" ,	"ढ़",
"h" ,	"ण्",
"i" ,	"त्",
"j" ,	"त्र्",
"k" ,	"त्त्",
"l" ,	"थ्",
"m" ,	"थ्र्",
"n" ,	"द",
"o" ,	"दृ",
"p" ,	"द्र",
"q" ,	"द्द",
"r" ,	"द्ध",
"s" ,	"द्म",
"t" ,	"द्य",
"u" ,	"द्व",
"v" ,	"ध्",
"w" ,	"ध्र्",
"x" ,	"न्",
"y" ,	"न्र्",
"z" ,	"न्न्",
"{" ,	"प्",
"|" ,	"प्र्",
"}" ,	"फ्",
"~" ,	"फ़्",
" " ,	"श्",
"¡" ,	"फ",
"¢" ,	"फ़",
"£" ,	"फ्र",
"¤" ,	"ब्",
"¥" ,	"ब्र",
"¦" ,	"भ्",
"§" ,	"भ्र्",
"¨" ,	"म्",
"©" ,	"म्र्",
"ª" ,	"य्",
"«" ,	"य्र्",
"¬" ,	"्य",
"­" ,	"र्",
"®" ,	"र",
"¯" ,	"रु",
"°" ,	"रू",
"±" ,	"ल्",
"²" ,	"ळ्",
"³" ,	"ळ",
"´" ,	"व्",
"µ" ,	"व्र्",
"¶" ,	"श्",
"·" ,	"श्व्",
"¸" ,	"श्र्",
"¹" ,	"ष्",
"º" ,	"स्",
"»" ,	"स्र्",
"¼" ,	"ह्",
"½" ,	"ह",
"¾" ,	"हृ",
"¿" ,	"ह्र",
"À" ,	"ह्म",
"Á" ,	"ह्य",
"∙" ,	"श्व्",
"&" ,	"ः",
":" ,	"ः",
"Â" ,	"्",
"Ã" ,	"़",
"Ä" ,	"ँ",
"Å" ,	"्र",
"Æ" ,	"ं",
"Ç" ,	"ρ",
"È" ,	"ंρ",
"É" ,	"ा",
"[ÎÊ]" ,	"ι",
"[ÏË]" ,	"ιं",
"[ÐÌ]" ,	"र्ι",
"[ÑÍ]" ,	"र्ιं",
"Ò" ,	"ी",
"Ó" ,	"ीं",
"Ô" ,	"ीρ",
"Õ" ,	"ींρ",
"[ÙÖ]" ,	"ु",
"×" ,	"़ु",
"Ø" ,	"्रु",
"[ÝÚ]" ,	"ू",
"Û" ,	"़ू",
"Ü" ,	"्रू",
"Þ" ,	"ृ",
"ß" ,	"ॄ",
"à" ,	"ॆ",
"á" ,	"ॆं",
"â" ,	"ॆρ",
"ã" ,	"ॆंρ",
"ä" ,	"े",
"å" ,	"ें",
"æ" ,	"ेρ",
"ç" ,	"ेंρ",
"è" ,	"ै",
"é" ,	"ैं",
"ê" ,	"ैρ",
"ë" ,	"ैंρ",
"ì" ,	"ॅ",
"í" ,	"ॅं",
"î" ,	"ॅρ",
"ï" ,	"ॅंρ",
"्ा" ,	"",
"ाे" ,	"ो",
"ाै" ,	"ौ",
"ाॆ" ,	"ॊ",
"ाॅ" ,	"ॊ",
"अो" ,	"ओ",
"अौ" ,	"औ",
"अॊ" ,	"ऒ",
"अॉ" ,	"ऑ",
"अा" ,	"आ",
"एे" ,	"ऐ",
"एॆ" ,	"ऎ",
"एॅ" ,	"ऍ",
"ऩ" ,	"ऩ",
"ऱ" ,	"ऱ",
"ऴ" ,	"ऴ",
"क़" ,	"क़",
"ख़" ,	"ख़",
"ग़" ,	"ग़",
"ज़" ,	"ज़",
"ड़" ,	"ड़",
"ढ़" ,	"ढ़",
"फ़" ,	"फ़",
"य़" ,	"य़",
"ऋρ" ,	"रृ",
"ॠρ" ,	"रॄ",
"ऌρ" ,	"रॢ",
"ॡρ" ,	"रॣ",
"(([ँंः]|[ा-ौ]|[॒॑]|[ॢॣ])+)ρ" ,	"ρ\1",
"([क-ह]|[क़-य़])ρ" ,	"ρ\1",
"((([क-ह]|[क़-य़])्)+)ρ" ,	"ρ\1",
"ρ" ,	"र्",
"(ι|ι[ँं])((([क-ह]|[क़-य़])्)+)" ,	"\2\1",
"(ι|ι[ँं])([क-ह]|[क़-य़])" ,	"\2\1",
"ι" ,	"ि",
"ψψ" ,	"॥",
"ψ" ,	"।",



*/

function convert_to_unicode()
{

var array_one = new Array(

"Lâ¿\"" ,	"ङ्घृ" + "\u0952" ,
"L½\"" ,	"ङ्घ" + "\u0952" ,
"L\"" ,	"ङ्घ" ,

"KÙ¾\"" ,	"ङ्गु" + "\u0952" ,
"K½\"" ,	"ङ्ग" + "\u0952" ,
"KÈ\"" ,	"ङ्ग" + "\u0951" ,  // with upper verical dandaa
"K\"" ,	"ङ्ग" ,

"½ " ,	"\u0951" , // udatta (upper vertical danda)
"½½" ,	"\u0951" + "ह" , // udatta (upper vertical danda)
"È" ,	"\u0951" , // udatta

"ÊÊ" ,	"\u0951" + "Ê" ,
"Ê " ,	"\u0951" + " " , // this is vertical danda + space ; note that only Ê is choti i kii maatraa.
"Ê%" ,	"\u0951" + "%" ,  // awagraha
"Êú" ,	"\u0951" + "ú" ,

//"äÊÊ" , "ä" + "\u0951" + "Ê" ,

//"äÊ" ,	"ä" + "\u0951" , // but this is NOT always true. this type of Ê is sometimes ikaar and sometimes udaatta.

//"äÊ¨" == "äÊ¨" // mi
// äÊ½¼ == äÊ½¼ == ä + hi + anudatta
// äÊi == äÊi   // ti
// äÊx == äÊx  // ni



// äÊ´ == ä + udanta + ´  // va
// äÊ½ == ä + udatta + ha
// äÊi == ä + udatta + ta

// Ê + vyanjan + maatraa == udatta +vyanjan + maatra


//"ÒÊ" ,	"Ò" + "\u0951" , // but this is NOT always true. this type of Ê is sometimes ikaar and sometimes udaatta.

" ¼" ,	"¼" ,
"¼¼" ,	"\u0952" ,
"¼ " ,	"\u0952" , // "\u0952 " ?
"¼" ,	"\u0952" ,  // anudatta (lower horizontal line)
"1⁄4" ,	"\u0952" ,

"Ë" ,	"\u1CDA" , // doubble vertical danda above axar  (1CDA)
// Ë is  ikaar + anuswaar  also at some places.
 
"ÉÉÉ" ,	"ÉÉ" + "\u1CDA" , 

"·É" ,	"श्व" ,

// following is ardhavisarga (1CF2)
"\·" ,	"\u1CF2" ,

"ÇÊ}" ,	"\u0951" + "फ्" ,


"\*Éä" ,	"Éä" , // full stop not vailid here.
"\*Éæ" ,	"ÉäÇ" , 
"\*Éè" ,	"Éè" ,
"\*æë" ,	"ोँ" , // okaar + chandra bindu
"\*&" ,	"ः" ,

"Fæ" ,	"ग्न" ,
"Væ" ,	"ज्ज" ,
"Pæ" ,	"च्च" ,
"Xæ" ,	"ञ्च" ,  
"Yæ" ,	"ञ्ज" ,


// "Ö½" ,	"Ö¼" , // most of the time ½ is ha and not anudatta
// "Ú½" ,	"Ú¼" , // most of the time ½ is ha and not anudatta


"@¼ñ" ,	"ऋ" + "\u0952" ,
"@ñ" ,	"ऋ" ,
"Í" ,	"र्" + "Ï" , // as in अवर्तिं

"1" ,	"व्ल" ,
"2" ,	"श्च" ,
//"3" ,	"" ,
"4" ,	"श्ल" ,
"5" ,	"स्त्र" ,
"6" ,	"स्न" ,
"7$" ,	"ष्ट" , 
"7" ,	"ष्ट" ,
"8" , 	"ष्ट्व" ,
"9%" ,	 "ष्ठ" ,
"9" ,	 "ष्ठ" ,

"ë" ,	"ल्ल" ,  // check again
"\$" ,	"" ,
//"\#" ,	"" ,

"f\(" , "दृ" ,
"o\(" ,	"द्भ" ,
"h\(" ,	"द्ग" ,

"\;\)" ,	"ह्ण" ,
"\>\)" ,	"ह्ल" ,
"\=\)" ,	"ह्व" , 
"\<\)" ,	"ह्न" ,

"Ô" ,	"Çी" ,
"ê" ,	"Çै" ,

"%" ,	 "ऽ" ,
//"$" ,	"ॐ" ,
"&" ,	"ः" ,
"**" ,	"॥" ,
"*" ,	"।" ,
"£Ã" ,	"फ़्र" ,
"+Éä" ,	"ओ" ,
"+Éè" ,	"औ" ,
"+É" ,	"आ" ,
"+" ,	"अ" ,
"<È" ,	"ईं" ,
"<Ç" ,	"ई" ,
"<" ,	"इ" ,
">" ,	"ऊ" ,
"=" ,	"उ" ,
//"@" ,	"ऋ" ,
"A" ,	"ॠ" ,
"Bå" ,	"ऐं" ,
"Bä" ,	"ऐ" ,
"‹ä" ,	"ऐ" ,
"B" ,	"ए" ,
"‹" ,	"ए" ,
"आå" ,	"ओं" ,
"आé" ,	"औं" ,
"C" ,	"क्" ,
"D" ,	"क़्" ,
"E" ,	"क" ,
"F" ,	"ग" ,   // "क़" ,
"G" ,	"क्र" ,
"H" ,	"क्त" ,
"I" ,	"क्ष्" ,
"J" ,	"ख्" ,
//"K" ,	"ख़्" ,
"L" ,	"ख्र्" ,
"M" ,	"ग्" ,
"N" ,	"ग़्" ,
"O" ,	"ग्र्" ,
"P" ,	"घ्" ,
"Q" ,	"घ्र्" ,
"R" ,	"ङ" ,
"S" ,	"च्" ,
"T" ,	"च्र्" ,
"U" ,	"छ" ,
"V" ,	"ज्" ,
"W" ,	"ज़्" ,
"X" ,	"ज्र्" ,
"Y" ,	"ज्ञ्" ,
"Z" ,	"झ्" ,
"[" ,	"झ्र्" ,
"\\" ,	"ञ्" ,
"]" ,	"ट" ,
"^" ,	"ट्ट" ,
"_" ,	"ट्ठ" ,
"`" ,	"ठ" ,
"a" ,	"ठ्ठ" ,
"b" ,	"ड" ,
"c" ,	"ड़" ,
"d" ,	"ड्ड" ,
"e" ,	"ड्ढ" ,
"f" ,	"ढ" ,
"g" ,	"ढ़" ,
"h" ,	"ण्" ,
"i" ,	"त्" ,
"j" ,	"त्र्" ,  
"k" ,	"त्त्" ,
"l" ,	"थ्" ,
"m" ,	"थ्र्" ,
"n" ,	"द" ,
"o" ,	"दृ" ,
"p" ,	"द्र" ,
"q" ,	"द्द" ,
"r" ,	"द्ध" ,
"s" ,	"द्म" ,
"t" ,	"द्य" ,
"u" ,	"द्व" ,
"v" ,	"ध्" ,
"w" ,	"ध्र्" ,
"x" ,	"न्" ,
"y" ,	"न्र्" ,
"z" ,	"न्न्" ,
"{" ,	"प्" ,
"|" ,	"प्र्" ,
"}" ,	"ल" , //	"फ्" ,
"~" ,	"ल्ल" , // "फ़्" ,
"¡" ,	"फ" ,
"¢" ,	"फ़" ,
"£" ,	"फ्र" ,
"¤" ,	"ब्" ,
"¥" ,	"ब्र्" ,
"¦" ,	"भ्" ,
"§" ,	"भ्र्" ,
"¨" ,	"म्" ,
"©" ,	"म्र्" ,
"ª" ,	"य्" ,
"«" ,	'ꣳ' ,  // "य्र्" ,
"®" ,	"र" ,
"¯û" ,	"रु" , 
"¬" ,	"्य" ,
"°" ,	"रू" ,
"±" ,	"ल्" ,
"²" ,	"ळ्" ,
"³" ,	"ळ" ,
"´" ,	"व्" ,
"µ" ,	"व्र्" ,
"¶" ,	"श्" ,
"•" ,	"श्व्" ,
"·" ,	"श्व्" ,
"¸" ,	"श्र्" ,
"¹" ,	"ष्" ,
"º" ,	"स्" ,
"»" ,	"स्र्" ,
"À" ,	"ह्म" ,
"Á" ,	"ह्य" ,
"¾" ,	"हृ" ,
"¿" ,	"ह्र" ,
//"¼" ,	"ह्" ,
"½" ,	"ह" ,

"Å" ,	"्र" ,

//"æ" , 	"्न" ,


"Â" ,	"्" ,
"Ã" ,	"़" ,
"Ä" ,	"ँ" ,
"Æ" ,	"ं" ,
"ä" ,	"े" ,
"è" ,	"ै" ,
"Éä" ,	"ो" ,
"Éè" ,	"ौ" ,
"É" ,	"ा" ,
"Ò" ,	"ी" ,
"Ö" ,	"ु" ,
"×" ,	"ु" ,
"Ù" ,	"ु" ,
"Ú" ,	"ू" ,
"Ý" ,	"ू" ,
"Þ" ,	"ृ" ,
"â" ,	"ृ" ,
"ß" ,	"ॄ" ,

"्ा" ,	"" ,

"å" ,	"ें" ,
"é" ,	"ैं" ,
"ì" ,	"ॅ" ,


"ð" ,	"" ,
"ò" ,	"" ,  // with ka
"ó" ,	"" ,
"ô" ,	"" ,  // wuth chha
"õ" ,	"" ,  // with T + halanta
"ö" ,	"" ,
"ø" ,	"" ,

"ù" ,	"" , // with da (dwaara)
"ú" ,	"" , // with ra
//"û" ,	"" , // with ru
"ü" ,	"" ,

"ý" ,	"" ,
"þ" ,	"" ,  // after ha
"÷" ,	"" ,
//"ñ" ,	"" , // with Ri


"ाे" ,	"ो" ,
"ाै" ,	"ौ" ,
"आॅ" ,	"ऑ" ,
"ाॅ" ,	"ॉ" ,
"\'" ,	"\"" ,

"राा" ,	"रा"  + "\u1CDA"   	) 


var array_one_length = array_one.length ;

var modified_substring = document.getElementById("legacy_text").value  ;

var text_size = document.getElementById("legacy_text").value.length ;
	
var processed_text = '' ;  //blank
	
	
if(0) //document.getElementById("is_HTML").checked) 
{

var remaining_text = document.getElementById("legacy_text").value  ;

var present_position = 0 ;


while ( present_position != -1 )
{
var indx_br1 = remaining_text.indexOf( "\<") ;
// expand this logic such that if < is preceded by \ (escape), it is not counted as opening angle bracket.

if (indx_br1 != -1)
{
var modified_substring = remaining_text.substring( 0 , indx_br1 ) ;
var indx_br2 = remaining_text.indexOf( "\>" , indx_br1+1) ;

if (indx_br2 != -1)
{
var txt_within_ang_br = remaining_text.substring (indx_br1 , indx_br2+1) ; 
var remaining_text = remaining_text.substring (indx_br2+1) ; 
} else
{
var txt_within_ang_br = remaining_text.substring (indx_br1) ; 
present_position = -1
}

} else
{
var modified_substring = remaining_text ;
var txt_within_ang_br = '' ;
present_position = -1 ;  // end of file reached
}

    Replace_Symbols( ) ;

    processed_text += modified_substring + txt_within_ang_br;

    document.getElementById("unicode_text").value = processed_text  ;
}	
}

else
{
//************************************************************
//  Break the long text into small bunches of max. max_text_size  characters each.
//*************************************************************
 
    var sthiti1 = 0 ;  var sthiti2 = 0 ;  var chale_chalo = 1 ;
 
    var max_text_size = 6000;

    while ( chale_chalo == 1 ) 
    {
     sthiti1 = sthiti2 ;

     if ( sthiti2 < ( text_size - max_text_size ) )  
     { 
      sthiti2 +=  max_text_size ;
	  while ( (document.getElementById("legacy_text").value.charAt( sthiti2 ) != '\n')&(document.getElementById("legacy_text").value.charAt( sthiti2 ) != '\t')&(document.getElementById("legacy_text").value.charAt( sthiti2 ) != ' ') )   {sthiti2-- ;}
     } 
     else  { sthiti2 = text_size  ;  chale_chalo = 0 }

     var modified_substring = document.getElementById("legacy_text").value.substring ( sthiti1, sthiti2 )  ;
	 

    Replace_Symbols( ) ;

    processed_text += modified_substring ;

    document.getElementById("unicode_text").value = processed_text  ;
   }
   
}   


// --------------------------------------------------


function Replace_Symbols( )

{ 

if ( modified_substring != "" )  // if stringto be converted is non-blank then no need of any processing.

{


// Some pre-processing first 

// place vaidik signs after spacers, maatraas etc
modified_substring = modified_substring.replace( /([½¼¾ÈË])([ñû\)\(])/g , "$2$1" )

/*

// space before all matras, all rephs, all ्य , ्र and vaidik signs to be removed
modified_substring = modified_substring.replace( /([ ]+)([R\|\;I°u\⁄üUOéeºπÉw¯ìo\*\'\˝÷˘\"\(\±å‰\[\^ÄûôÖÿÃ])/g , "$2" )

// space AFTER hraswa i_kaar to be removed.
modified_substring = modified_substring.replace( /([i…≤\‚\·Ææ])([ ]+)/g , "$1" )

// space + ikar + maatraas/reph/vaidikSigns + space
modified_substring = modified_substring.replace( /([ ]*)([i…≤\‚\·Ææ])([ ]*)([\|\;I°u\⁄üUOéeºπÉw¯ìo\*\'\˝÷˘\"\(\±å‰\[\^ÄûôÖÿÃR])([ ]*)/g , "$4$2" )

// shift Reph before vaidik signs, half a (awagrah?), matras
modified_substring = modified_substring.replace( /([\|\;I°u\⁄üUOéeºπÉw¯ìo\*\'\˝÷˘\"\(\±å‰\[\^ÄûôÖÿÃ]+)([R])/g , "$2$1" )

*/

//substitute array_two elements in place of corresponding array_one elements

for ( input_symbol_idx = 0;   input_symbol_idx < array_one_length-1;    input_symbol_idx = input_symbol_idx + 2 )

{ 

idx = 0  ;  // index of the symbol being searched for replacement

while (idx != -1 ) //while-00
{

modified_substring = modified_substring.replace( array_one[ input_symbol_idx ] , array_one[input_symbol_idx+1] )
idx = modified_substring.indexOf( array_one[input_symbol_idx] )

} // end of while-00 loop

} // end of for loop

// convert ikaar to udatta in special cases
modified_substring = modified_substring.replace( /Ê([कखगघङचछजझञटठडढढ़णतथदधनपफबभमयरलळवशषसह])([ाीुूृेैोौ])/g , "\u0951" + "$1$2" ) ;
modified_substring = modified_substring.replace( /Ê(([कखगघचछजझटठडड़ढढ़णतथदधनपफबभमयरलळवशषसह][्])+)([कखगघङचछजझञटठडढढ़णतथदधनपफबभमयरलळवशषसह])([ाीुूृेैोौ])/g , "\u0951" + "$1$3$4" ) ;

modified_substring = modified_substring.replace ( /([ ]+)([ऽ्ाीुूृेैोौंँः])/g , "$2" ) ;
modified_substring = modified_substring.replace( /([॒॑]+)([ािीुूृेैोौंःँ]+)/g , "$2$1" );

modified_substring = modified_substring.replace( /([॒॑]+)(्र)/g , "$2$1" );
modified_substring = modified_substring.replace( /([॒॑]+)(्य)/g , "$2$1" );

modified_substring = modified_substring.replace( /([ःंँ॰]+)([ािीुूृेैोौ]+)/g , "$2$1" );

// **********************************************

   modified_substring = modified_substring.replace( /Ì/g , "र्Ê" ) ;  // at some places  Ì  is  used eg  in "धार्मिक".
   modified_substring = modified_substring.replace( /Î/g , "Ê" ) ;  

modified_substring = modified_substring.replace( /[ÊÏ]([कखगघङचछजझञटठडढढ़णतथदधनपफबभमयरलळवशषसह])/g , "$1Ê" ) ;

modified_substring = modified_substring.replace( /[ÊÏ]([्])([कखगघङचछजझञटठडढढ़णतथदधनपफबभमयरलळवशषसह])/g , "$1$2Ê" ) ;

modified_substring = modified_substring.replace( /[ÊÏ]([्])([कखगघङचछजझञटठडढढ़णतथदधनपफबभमयरलळवशषसह])/g , "$1$2ि" ) ;

modified_substring = modified_substring.replace( /Ê/g , "ि" ) ;
modified_substring = modified_substring.replace( /Ï/g , "िं" ) ;

//following three statement for adjusting position of reph ie, half r . 
modified_substring = modified_substring.replace( /([कखगघचछजझटठडड़ढढ़णतथदधनपफबभमयरलळवशषसह])([\u0951\u0952ािीुूृेैोौंँ]*)([Ç])/g , "$3$1$2" ) ;

modified_substring = modified_substring.replace( /(([कखगघचछजझटठडड़ढढ़णतथदधनपफबभमयरलळवशषसह][्])+)([Ç])/g , "$2$1" ) ;

modified_substring = modified_substring.replace( /Ç/g , "र्" ) ;


// modified_substring = modified_substring.replace ( /([ ]+)([ऽ्ाीुूृेैोौंँः])/g , "$2" ) ;


} // end of IF  statement  meant to  supress processing of  blank  string.

} // end of the function  Replace_Symbols

} // end of convert_to_unicode function


</script>
</head>

<body>
<form name="form1">
<br/>
<b>DV-TT-VedicNormal font</b> text-box<br/>
<HTML><BODY bgColor='yellow'><CENTER>

<textarea name="TextToConvert" id="legacy_text" cols="92" rows="5"></textarea> <br>

<div align="middle">
<CENTER><input  type="button" name="converter" id="converter" value=" Convert to Unicode >> " onClick="convert_to_unicode();" accesskey="c" title="शॉर्टकट shift+alt+c"> 
</div>  <br>

<b><CENTER>Unicode</b> text-box<br/>
<textarea name="ConvertedText" id="unicode_text" cols="92" rows="5"></textarea>
<br />

</form>
</body>

</html>

